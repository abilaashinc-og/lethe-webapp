{% extends "base.html" %}
{% block title %}Trusted Contacts{% endblock %}

{% block content %}
<h2>My Trusted Contacts</h2>

<p>
    <a href="{{ url_for('add_contact') }}"><button>Add trusted contact</button></a>
</p>

{% if contacts %}
<table>
    <tr>
        <th>Name</th>
        <th>Relationship</th>
        <th>Email</th>
        <th>Primary</th>
        <th>Actions</th>
    </tr>
    {% for c in contacts %}
    <tr>
        <td>{{ c.name }}</td>
        <td>{{ c.relationship }}</td>
        <td>{{ c.email }}</td>
        <td>{% if c.is_primary %}Yes{% else %}No{% endif %}</td>
        <td>
            <form method="post" action="{{ url_for('delete_contact', contact_id=c.id) }}" onsubmit="return confirm('Delete this contact?');">
                <a href="{{ url_for('edit_contact', contact_id=c.id) }}"><button type="button">Edit</button></a>
                <button type="submit">Delete</button>
            </form>
        </td>
    </tr>
    {% endfor %}
</table>
{% else %}
<p>No trusted contacts added yet.</p>
{% endif %}
{% endblock %}
